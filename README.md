# SRE Recruitment Assignment

---

## Overview

Two dummy services based on HTTP Rest and written in Go are interacting with each other. The Ponger service has one endpoint `GET /ping` which responds with body `pong` and a 200 success message. The Pinger service consumes the service provided by Ponger by sending requests to it in regular intervals.

```bash
# Ponger takes in a config file with its required configuration
$ ponger -c config.yaml
2019/02/11 15:50:26 Server started on :8080
2019/02/12 12:27:58 Mode: HTTP
2019/02/12 12:28:04 Got request GET /ping
2019/02/12 12:28:05 Got request GET /ping

# Similarly pinger uses a config file that includes the URL of ponger
$ pinger -c config.yaml
Starting to ping localhost:8080
2019/02/12 12:28:04 Sent ping
2019/02/12 12:28:04 Got pong
```

Prerequisites:
* You will need to have docker installed on your machine (https://docs.docker.com/install/)

## 1. Containerise the services and deploy them locally
From the pinger and ponger codebases, we would like to produce Docker images that can be used to deploy the services.

Build docker images having in mind that the same ones will be used in production, so best practices should be used. The pinger and ponger binaries can be generated by running:
```bash
make build
```
The command above should generate the binaries in directories pinger and ponger.

Subsequently, we would like to run the containerised services together. Use the tool of your liking (e.g, docker-compose, [local Kubernetes](https://docs.docker.com/docker-for-windows/#kubernetes) or a different approach) to deploy the services together on your machine.

For this part you can provide us with:
* the Dockerfiles for Pinger and Ponger
* the deployment code/configuration
* any documentation documenting non-obvious decisions you have made


## 2. Encrypted communication between services
Currently the services are communicating in plaintext over http. We would like to modify the services in order to enable encrypted communication over https.

The ponger service can be provided with a certificate path in its configuration file:

```yaml
---
  service:
    protocol: https
    tlsCertificate: /path/to/cert
    tlsPrivateKey: /path/to/private_key
```

For the purposes of this assignment, we do not require a CA-signed certificate, a self-signed certificate that you generate on your machine will do. However, the pinger service needs to be instructed to accept the self-signed certificate. The pinger service can be provided with a certificate to accept as valid:
```yaml
---
  ponger:
    url: https://localhost:8080
    acceptCert: /path/to/cert
```

Modify the containerised applications and the deployment code in order for the services to communicate over HTTPS.
You can provide us with the same items as for part 1, including the modifications you made to achieve encrypted communication.

## Considerations

1. We would prefer a working assignment over a perfectly implemented one. If it's not straight-forward how to run your solution, please provide us a guide on what we need to do to run it.
2. For things you acknowledge that could have been better or you would have liked to do but didn't find the time, please put them in a guide for us to read!


## Time
We haven’t set a time limit for this test. We want you to spend the time you need to hand something in that you’re happy with - at the same time we don’t want you to spend hours on end either. As a guideline, our engineers here take around 2 to 3 hours on average to get the job done cleanly.

## Submitting
Email an archive of your project to ​tech.test@starlingbank.com​ or share a private git repo (Git and BitBucket are free) with us - ideally we’d like to avoid lots of public solutions
